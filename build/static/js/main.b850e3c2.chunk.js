(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(2),u=t(14),o=t.n(u),a=t(3),s=t(4),i=t.n(s),j="/api/persons",b=function(){return i.a.get(j).then((function(e){return e.data}))},l=function(e){return i.a.post(j,e).then((function(e){return e.data}))},h=function(e){return i.a.delete("".concat(j,"/").concat(e),[]).then((function(e){return e.data}))},f=function(e){var n=e.person;return Object(c.jsxs)("p",{children:[n.name," ",n.number]},n.name)},d=function(e){var n=e.persons,t=e.onDelete;return Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)(f,{person:e}),Object(c.jsx)("button",{onClick:function(){return t(e.id)},children:"Delete"})]},e.id)}))})},O=function(e){var n=e.message,t=e.className;return Object(c.jsx)("p",{className:t,children:n})},m=function(e){var n=e.value,t=e.onChange;return Object(c.jsxs)("p",{children:[" Filter shown with ",Object(c.jsx)("input",{value:n,onChange:t})]})},p=function(e){var n=e.onSubmit,t=e.newName,r=e.newNumber,u=e.onNumberChange,o=e.onNameChange;return Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:t,onChange:o}),"number: ",Object(c.jsx)("input",{value:r,onChange:u})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},x=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],o=Object(r.useState)(""),s=Object(a.a)(o,2),i=s[0],j=s[1],f=Object(r.useState)(""),x=Object(a.a)(f,2),v=x[0],g=x[1],N=Object(r.useState)(""),C=Object(a.a)(N,2),w=C[0],S=C[1],k=Object(r.useState)(""),D=Object(a.a)(k,2),y=D[0],E=D[1],J=Object(r.useState)(""),L=Object(a.a)(J,2),T=L[0],A=L[1];Object(r.useEffect)((function(){b().then((function(e){u(e)}))}),[]);var B=w?t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})):t;return Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{message:y,className:T}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(m,{value:w,onChange:function(e){S(e.target.value)}}),Object(c.jsx)("h3",{children:"Add New"}),Object(c.jsx)(p,{onSubmit:function(e){e.preventDefault();t.filter((function(e){return e.name===i}));l({name:i,number:v}).then((function(e){u(t.concat(e));var n="added ".concat(e.name);A("success"),E(n),setTimeout((function(){A(null),E(null)}),5e3),j(""),g("")})).catch((function(e){A("error"),E(e.response.data.error),console.log(y),setTimeout((function(){A(null),E(null)}),5e3)}))},newName:i,newNumber:v,onNumberChange:function(e){g(e.target.value)},onNameChange:function(e){j(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(d,{persons:B,onDelete:function(e){h(e).then((function(n){u(t.filter((function(n){return n.id!==e}))),console.log(t)}))}})]})};t(38);o.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b850e3c2.chunk.js.map