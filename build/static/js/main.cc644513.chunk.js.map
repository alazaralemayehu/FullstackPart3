{"version":3,"sources":["services/Person.js","components/Person.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","name","number","Persons","persons","onDelete","map","onClick","Notification","message","className","Filter","value","onChange","PersonForm","onSubmit","newName","newNumber","onNumberChange","onNameChange","type","App","useState","setPersons","setNewName","setNewNumber","filterNameOption","setFilterNameOption","notificationMessage","setNotificationMessage","notifcationClass","setNotificationClass","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personToUpdate","length","window","confirm","changedPerson","catch","error","setTimeout","returnedPerson","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc644513.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'https://full-stack-alazar.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request =  axios.get(baseUrl)\n    return request.then(response => response.data)\n  \n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deletePerson = (id) => {\n      const request = axios.delete(`${baseUrl}/${id}`, [])\n      \n      return request.then(response => response.data)\n  }\n  export default { \n    getAll,\n    create,\n    update,\n    deletePerson\n  }","import React from 'react'\n\nconst Person = ({person}) => {\n    return (\n      <p key={person.name}>{person.name} {person.number}</p>\n    )\n  }\nconst Persons = ({persons, onDelete}) => {\nreturn (\n<ul>\n    {persons.map( person => \n    <li key={person.id}>\n        <Person person = {person}/>\n        <button onClick={() => onDelete(person.id)}>Delete</button>\n    </li>\n\n        )}\n</ul>)\n}\n\n  export default Persons","import React, { useState, useEffect } from 'react'\nimport personService from './services/Person'\nimport Persons from './components/Person'\n\n\nconst Notification = ({message, className}) => {\n  return(\n    <p className={className}>{message}</p>\n  ) \n}\nconst Filter = ({value, onChange}) => {\n  return (<p> Filter shown with <input value={value} onChange={onChange}/></p>)\n}\n\nconst PersonForm = ({onSubmit, newName, newNumber, onNumberChange, onNameChange} ) => {\n return ( <form onSubmit={onSubmit}>\n    <div>\n      name: <input value={newName} onChange={onNameChange}/>\n      number: <input value={newNumber} onChange={onNumberChange}/>\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n</form>)\n}\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterNameOption, setFilterNameOption] = useState('')\n  const [ notificationMessage, setNotificationMessage] = useState('')\n  const [ notifcationClass, setNotificationClass] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then( initialPersons => {\n        setPersons(initialPersons)\n      })\n    },[])\n    \n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlNumberChange = (event)  => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterOptionChange = (event) => {\n    setFilterNameOption(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n\n    personService\n      .deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        console.log(persons)\n      })\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personToUpdate = persons.filter(person => person.name === newName)\n    // if the person exist, go to updatation \n    // updated the phone number\n    if (personToUpdate.length) {\n      const result = window.confirm(`${newName} already exists, do you want to updated the number?`)\n      if (result) {\n        const changedPerson = {...personToUpdate[0], number: newNumber}\n        personService\n          .update(changedPerson.id, changedPerson)\n          .catch(error => {\n            const notificationMessage = `information of ${changedPerson.name} has been deleted from the server`\n            //set notification class to error and message to the crafted message\n            // class error is found in index.css \n            setNotificationClass('error')\n            setNotificationMessage(notificationMessage)\n            \n            // reset message and class of the notification after 5 seconds.\n            setTimeout(() => {\n              setNotificationClass(null)\n              setNotificationMessage(null)\n            }, 5000)\n          })\n      }\n\n      setNewName('')\n      setNewNumber('')\n      return \n    }\n    const person = {\n      name: newName,\n      number: newNumber,\n    }\n    \n    personService\n      .create(person)\n      .then(returnedPerson => {\n\n        setPersons(persons.concat(returnedPerson))\n\n        const notificationMessage = `added ${returnedPerson.name}`\n        //set notification class to success and message to the crafted message\n        // class success is found in index.css \n        setNotificationClass('success')\n        setNotificationMessage(notificationMessage)\n       \n        setTimeout(() => {\n        // reset message and class of the notification after 5 seconds.\n\n          setNotificationClass(null)\n          setNotificationMessage(null)\n        }, 5000)\n\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n\n  // filter the persons to show \n  // if the filterSearch exists use that, if not use original persons object\n  const personsToShow = filterNameOption?persons.filter(person => person.name.toLowerCase().includes(filterNameOption.toLowerCase())):persons\n\n  return (\n    <div>\n      <Notification message ={notificationMessage} className={notifcationClass}/>\n      <h2>Phonebook</h2>\n      <Filter value = {filterNameOption} onChange= {handleNameFilterOptionChange}/>\n      <h3>Add New</h3>\n      <PersonForm onSubmit={addPerson} newName={newName} newNumber={newNumber} onNumberChange ={handlNumberChange} onNameChange={handleNameChange} />\n   \n      <h2>Numbers</h2>\n      <Persons \n        persons = {personsToShow}\n        onDelete = {deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}