(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(2),r=t(15),u=t.n(r),o=t(6),i=t(3),s=t(4),j=t.n(s),b="https://full-stack-alazar.herokuapp.com/api/persons",l=function(){return j.a.get(b).then((function(e){return e.data}))},h=function(e){return j.a.post(b,e).then((function(e){return e.data}))},f=function(e,n){return j.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},d=function(e){return j.a.delete("".concat(b,"/").concat(e),[]).then((function(e){return e.data}))},m=function(e){var n=e.person;return Object(c.jsxs)("p",{children:[n.name," ",n.number]},n.name)},O=function(e){var n=e.persons,t=e.onDelete;return Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)(m,{person:e}),Object(c.jsx)("button",{onClick:function(){return t(e.id)},children:"Delete"})]},e.id)}))})},p=function(e){var n=e.message,t=e.className;return Object(c.jsx)("p",{className:t,children:n})},v=function(e){var n=e.value,t=e.onChange;return Object(c.jsxs)("p",{children:[" Filter shown with ",Object(c.jsx)("input",{value:n,onChange:t})]})},x=function(e){var n=e.onSubmit,t=e.newName,a=e.newNumber,r=e.onNumberChange,u=e.onNameChange;return Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:t,onChange:u}),"number: ",Object(c.jsx)("input",{value:a,onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},g=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),j=s[0],b=s[1],m=Object(a.useState)(""),g=Object(i.a)(m,2),w=g[0],N=g[1],C=Object(a.useState)(""),S=Object(i.a)(C,2),k=S[0],y=S[1],D=Object(a.useState)(""),E=Object(i.a)(D,2),J=E[0],L=E[1],T=Object(a.useState)(""),z=Object(i.a)(T,2),A=z[0],B=z[1];Object(a.useEffect)((function(){l().then((function(e){r(e)}))}),[]);var F=k?t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})):t;return Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{message:J,className:A}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(v,{value:k,onChange:function(e){y(e.target.value)}}),Object(c.jsx)("h3",{children:"Add New"}),Object(c.jsx)(x,{onSubmit:function(e){e.preventDefault();var n=t.filter((function(e){return e.name===j}));if(n.length){if(window.confirm("".concat(j," already exists, do you want to updated the number?"))){var c=Object(o.a)(Object(o.a)({},n[0]),{},{number:w});f(c.id,c).catch((function(e){var n="information of ".concat(c.name," has been deleted from the server");B("error"),L(n),setTimeout((function(){B(null),L(null)}),5e3)}))}return b(""),void N("")}h({name:j,number:w}).then((function(e){r(t.concat(e));var n="added ".concat(e.name);B("success"),L(n),setTimeout((function(){B(null),L(null)}),5e3),b(""),N("")}))},newName:j,newNumber:w,onNumberChange:function(e){N(e.target.value)},onNameChange:function(e){b(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(O,{persons:F,onDelete:function(e){d(e).then((function(n){r(t.filter((function(n){return n.id!==e}))),console.log(t)}))}})]})};t(39);u.a.render(Object(c.jsx)(g,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.cc644513.chunk.js.map